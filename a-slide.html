<link href="../polymer/polymer.html" rel="import">

<polymer-element name="a-slide">
  <template>
    <style>
      :host {
        align-items: center;
        display: flex;
        height: 100%;
        justify-content: center;
        opacity: 0;
        position: absolute;
        transition: all .5s cubic-bezier(.4,0,.2,1);
        width: 100%;
      }

      div {
        width: 1280px;
        max-height: 720px;
      }

      :host([history=past]) {
        transform: translate3d(-100%, 0, 0);
      }
      :host([history=future]) {
        transform: translate3d(100%, 0, 0);
      }
      :host([history=present]) {
        opacity: 1;
        transform: translate3d(0, 0, 0);
      }

      ::content [part] {
        opacity: 0;
        transition: all .333s ease;
      }

      ::content [part][active] {
        opacity: 1;
      }

    </style>
    <div>
      <content></content>
    </div>
  </template>
  <script>

  Polymer('a-slide', {

    ready: function() {
      this.i = 0;
      this.fragments = [].slice.call(this.querySelectorAll('[part]') || []);
    },

    get fragment() {
      return this.fragments[this.i];
    },

    forward: function() {
      if (this.i >= this.fragments.length) return false;

      this.fragment.setAttribute('active', '');
      this.i++;
      return true;
    },

    back: function() {
      if (this.i === 0) return false;

      this.i--;
      this.fragment.removeAttribute('active');
      return true;
    }

  });

  </script>
</polymer-element>
